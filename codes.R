dt <- fread(some_csv)

# how to greatly describe data.table with all columns?
library(Hmisc)
describe(dt)

# remove multiple columns by grep
remove = c("col1", "col2", "col3")
dt <- dt[, !grep(remove, names(test.cat), value=T), with = F]

# multiple plot for every column finding correlation
pairs(dt)

# how many numeric columns is in the data.table?
# numric is num and int
counts = sum(unlist(dt[, lapply(.SD, is.numeric)]))

# remove attributes with more than 95% NA values
clean.dt <- dt[, unlist(lapply(dt, function(x) !sum(is.na(x)) >
                               0.95*(nrow(dt)))), with=F]

# chisq.test for every column (must NA omit each column for test)
features <- lapply(dt, function(x) as.numeric(na.omit(x)))
chi <- sapply(features, function(x) chisq.test(x))

# extract columns as vector from data.table
dt[['column_name']]
# or
name <- names(dt)
dt[[name[1]]]

# how to find NA values and replace it with 'NULL'?
na <- all[, lapply(.SD, is.na)] # true false in NA for every row in all data.table
invisible(lapply(seq(na), function(x) all[na[[x]], names(all)[x] := 'NULL']))

# how to replace all NA in data.table to specific value?
dt[is.na(dt)] <- 'null'
dt[is.na(dt)] <- 0

# how to replace NA in existing column to string "Others"
dt[is.na(column), column := "Others"]

# discretize every column in data.table by 5 equal parts !!! 
dt <- dt[, lapply( .SD, function(x) cut2(x, g =5)), ]

# find differencies in two vectors (for example strings)
setdiff(vector1, vector2)

# removing every column that contains NA values
df_NA_free <- dt[, colSums(is.na(df)) == 0]

# convert all columns into factor
dt <- dt[, lapply( .SD, as.factor), ]

# how many 5 variables have each column in data frame?
colSums(df == 5)

# find all negative values in data.table - boolean
dt[, lapply(dt, function(x) x < 0)]

# how many negative values are in data.table columns?
dt.num[, colSums(dt.num < 0, na.rm = T)]

# where is negative values in data.table columns?
dt.num[, colSums(dt.num < 0, na.rm = T) > 0]

# Unique values per column
dt[, lapply(.SD, function(x) length(unique(x)))]

# automatic discretization with package 'infotheo'
library(infotheo)
data(USArrests)
# this code automatic discretize every column by 10 equal values
nbins = 10
ew.data <- discretize(USArrests,"equalwidth", nbins)
# number of bins by square root
nbins<- sqrt(NROW(USArrests))
ew.data <- discretize(USArrests,"equalwidth", nbins)
# for equal frequency for each bin (not very useful)
ef.data <- discretize(USArrests,"equalfreq", nbins)
# global bins for every column (good for similar values in columns)
gew.data <- discretize(USArrests,"globalequalwidth", nbins)

# how to make histogram for every column in the data set
library(reshape2)
library(ggplot2)
dt <- fread(..some csv)
# doing rbind for every column
# data frame must be cleaned by id values and repetitive column
transform_data <- melt(dt)
ggplot(transform_data, aes(x = value)) +
    facet_wrap(~ variable,scales = "free_x") + 
    geom_histogram()
